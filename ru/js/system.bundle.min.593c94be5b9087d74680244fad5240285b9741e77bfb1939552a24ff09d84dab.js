(()=>{var f=()=>{n(".shortcode-codeblock",'[data-fn*="clipboard"]').catch(console.error),n(".shortcode-file",'[data-fn*="clipboard"]').catch(console.error)},n=async(e,t)=>{const n=document.querySelectorAll(e),s=n.length;for(let e=0;e<s;++e){const r=n[e].querySelectorAll("[data-lang] > .line"),i=n[e].querySelector(t),o=i.firstElementChild.classList,a=o[1],c=Array.from(r).map(e=>Array.from(e.childNodes).map(e=>e.textContent).join("")),l=c.join("").replace(/\n{3,}/g,`

`);i.addEventListener("click",e=>{e.preventDefault(),navigator.clipboard.writeText(l),o.replace(a,"fa-check"),setTimeout(()=>{o.replace("fa-check",a)},500)})}},i=()=>{t('[data-fn*="date-local"]'),t('[data-fn*="time-local"]',4)},t=(e,t=0)=>{const n=document.querySelectorAll(e),i=n.length;let s,o;for(let e=0;e<i;++e)s=n[e].getAttribute("datetime"),o=g(s,t),n[e].textContent=o},g=(t,n)=>{let s;const o=new Date(t),r=o.getFullYear(),c=e(o.getMonth()+1),l=e(o.getDate()),i=e(o.getHours()),a=e(o.getMinutes()),d=e(o.getSeconds());switch(n){case 0:s=`${r}/${c}/${l} ${i}:${a}:${d}`;break;case 1:s=`${r}/${c}/${l} ${i}:${a}`;break;case 2:s=`${r}/${c}/${l}`;break;case 3:s=`${i}:${a}:${d}`;break;case 4:s=`${i}:${a}`;break;default:console.error("Unknown type!")}return s},e=e=>(e<10&&(e="0"+e),e),a=()=>{r("[data-fancybox]")},r=e=>{Fancybox.bind(e)},c=()=>{l(".modal")},l=e=>{const t=document.querySelectorAll(e),n=t.length;for(let e=0;e<n;++e){const s="#"+t[e].id;if(window.location.href.indexOf(s)!==-1){const e=new bootstrap.Modal(s);e.show()}}},d=()=>{u(".navbar")},u=e=>{const t=document.querySelector(e),n=new Headroom(t);n.init()},h=()=>{m('[data-fn*="qrcode"]')},m=e=>{const t=document.querySelectorAll(e),o=t.length;let n;for(let e=0;e<o;++e)n=t[e].getAttribute("data-qr-text"),s(t[e],n)},s=(e,t,n=128)=>{let s;return s={text:t,width:n,height:n,drawer:"svg"},new QRCode(e,s)},p=()=>{o("/ru/search.json").catch(console.error)},o=async e=>{const t=document.getElementById("search-results"),n=document.getElementById("search-input"),s=document.getElementById("search-help"),i={includeScore:!0,minMatchCharLength:3,useExtendedSearch:!0,keys:["title","categories","tags"]};if(!n)return 0;await b();const a=await v(e),o=new Fuse(a,i);n.onkeyup=function(){if(o){const e=o.search(this.value.trim()),n=e.length;if(n!==0){t.classList.remove("d-none"),s.classList.add("d-none");let o="",i="",a="",r="far fa-file";for(let t=0;t<n;++t)i=e[t].item.url,a=e[t].item.title,r=e[t].item.icon,o+=`<a class="list-group-item list-group-item-action" href="${i}" tabindex="0">
            <span class="d-flex">
            <span class="flex-shrink-0"><i class="${r} fa-fw"></i></span>
            <span class="flex-grow-1 ms-3 overflow-hidden">${a}</span>
            </span>
            </a>`;t.innerHTML=o}else t.classList.add("d-none"),s.classList.remove("d-none"),t.innerHTML=""}}},v=async e=>{const o=3e5,n=(new Date).getTime(),t=JSON.parse(localStorage.getItem(e));if(t&&Math.abs(n-t.time)<o)return t.data;const i=await fetch(e),s=await i.json();return localStorage.setItem(e,JSON.stringify({time:n,data:s})),s},b=async()=>{const s=document.getElementById("search-form"),o=document.getElementById("search-input"),e=document.getElementById("search-modal"),t=new bootstrap.Modal(e);let n=0;document.addEventListener("keydown",e=>{(e.ctrlKey&&e.code==="Slash"||e.ctrlKey&&e.key==="/")&&(e.preventDefault(),t.show(),n=1),(e.code==="Escape"||e.key==="Escape"||e.ctrlKey&&e.code==="Slash"||e.ctrlKey&&e.key==="/")&&n&&(e.preventDefault(),t.hide())}),e.addEventListener("shown.bs.modal",e=>{o.focus(),s.addEventListener("keypress",e=>{(e.code==="Enter"||e.key==="Enter")&&e.preventDefault()})})},j=()=>{y('[data-fn*="select-all"]')},y=e=>{const t=document.querySelectorAll(e),n=t.length;for(let e=0;e<n;++e)_(t[e])},_=e=>e.addEventListener("click",e=>{e.currentTarget.select()}),w=()=>{O('[data-fn*="popup"]')},O=e=>{const t=document.querySelectorAll(e),n=t.length;for(let e=0;e<n;++e)x(t[e])},x=e=>e.addEventListener("click",e=>{e.preventDefault(),window.open(e.currentTarget.href,e.currentTarget.title,"width=640,height=480,toolbar=0,status=0")}),C=()=>{E('[data-fn="node-tabs"]','button[data-bs-toggle="tab"]')},E=(e,t)=>{if(!document.querySelector(e))return 0;const o=document.querySelector(e).getAttribute("id"),i=document.querySelectorAll(e+" "+t),n="node."+o;i.forEach(e=>{k(e,n)});const s=localStorage.getItem(n);if(s){const e=document.querySelector('button[data-bs-target="'+s+'"]'),t=new bootstrap.Tab(e);t.show()}},k=(e,t)=>{e.addEventListener("show.bs.tab",n=>{localStorage.setItem(t,e.dataset.bsTarget)})},A=()=>{S("[data-bs-tooltip]")},S=e=>{const t=document.querySelectorAll(e);return[...t].map(e=>new bootstrap.Tooltip(e,{container:"body"}))};function M(){f(),i(),a(),c(),d(),h(),p(),j(),w(),C(),A()}M()})()